<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta name="GENERATOR" content="mkd2html 2.1.5a DL=DISCOUNT">
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
  <link rel="stylesheet"
        type="text/css"
        href="../hint.css">
  <title>Most elementary use of C - Silver award</title>
</head>
<body>
<h1>Most elementary use of C - Silver award</h1>

<p>Tsukasa Hamano<br>
<a href="&#109;&#97;&#105;&#108;&#116;&#x6f;&#x3a;&#x68;&#x61;&#x6d;&#x61;&#110;&#111;&#x40;&#x63;&#117;&#115;&#112;&#121;&#46;&#111;&#114;&#x67;">&#104;&#97;&#109;&#x61;&#110;&#x6f;&#64;&#99;&#x75;&#x73;&#112;&#x79;&#x2e;&#111;&#114;&#103;</a></p>

<h2>Judges' comments:</h2>

<h3>To build:</h3>

<pre><code>make hamano
</code></pre>

<h3>To run:</h3>

<pre><code>./hamano &lt; textfile &gt; output.pdf
</code></pre>

<h3>Try:</h3>

<pre><code>./hamano &lt; hint.text &gt; hint.pdf

# You can read output.pdf with PDF reader
acroread hint.pdf
# or
evince hint.pdf

# deobfuscate
gcc -xc hint.pdf -o hint
./hint

# Of course, You can obfuscate c code
echo 'void main(){puts("Hello World!");}' | ./hamano &gt; hello.pdf
gcc -xc hello.pdf -o hello2
./hello2 | gcc -xc - -o ./hello3
./hello3
</code></pre>

<h3>Selected Judges Remarks:</h3>

<p>This entry treads into a new territory for IOCCC - generating PDF files.</p>

<p>The originally submitted entry could have been thought of as a &ldquo;Best abuse of
Ghostscript&rdquo; winner.  :-)</p>

<p>The source code and rendered pages are obfuscated for humans (where
is the font?), and the submitted entry created PDF files that left Ghostscript
confused.</p>

<p>The results can be viewed with Acrobat Reader,
<a href="http://en.wikipedia.org/wiki/Evince">evince</a> and Apple&rsquo;s Preview.</p>

<p>The updated version can also be viewed using Ghostscript.</p>

<p>There is something strange about the little flags in the output.
A search of English literature will provide a hint.  The conclusion
you might draw is too elementary.  :-)</p>

<p>So what do those flags really mean?</p>

<p>The [Dancing men algorithm][1] might be useful.</p>

<p>Don&rsquo;t forget to take a look at the generated PDF, perhaps you might even want
to compile the output with a C compiler.  When you run it, what does it
output?</p>

<h2>Author&rsquo;s comments:</h2>

<p>This program obfuscate text file into PDF file with Dancing men
algorithm.</p>

<p><a href="http://en.wikipedia.org/wiki/The_Adventure_of_the_Dancing_Men">http://en.wikipedia.org/wiki/The_Adventure_of_the_Dancing_Men</a></p>

<p>Probably, the output PDF file is compliant with PDF 1.3. And also
available to compile as C code.</p>

<p>I&rsquo;ve been tested with GCC 4.7 and Clang 3.0 on Linux, and following
PDF Reader:</p>

<ul>
<li>Adobe Acrobat Reader</li>
<li>Evince</li>
<li>Ghostscript</li>
<li>Xpdf</li>
</ul>


<h3>Obfuscations</h3>

<p>This program is obfuscated by using classical methods.
But can you find out the embedded font from fragmented glyph?</p>

<hr />

<!--
(c) Copyright 1984-2015, [Leo Broukhis, Simon Cooper, Landon Curt Noll][judges] - All rights reserved
This work is licensed under a [Creative Commons Attribution-ShareAlike 3.0 Unported License][cc].

[judges]: http://www.ioccc.org/judges.html
[cc]: http://creativecommons.org/licenses/by-sa/3.0/
-->

<TABLE><TR>
<TD><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a></TD>
<TD><P>&copy; Copyright 1984-2015,
<A HREF="/judges.html">Leo Broukhis, Simon Cooper, Landon Curt Noll</A>
- All rights reserved<BR>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</P></TD>
<TD>&nbsp;<!--<a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-html401" alt="Valid HTML 4.01 Transitional" height="31" width="88"></a>--></TD>
</TR></TABLE>
</body>
</html>
