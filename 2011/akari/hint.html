<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta name="GENERATOR" content="mkd2html 2.1.3 DL=DISCOUNT">
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
  <link rel="stylesheet"
        type="text/css"
        href="../hint.css">
  <title>Best of Show - Most Shrinkable</title>
</head>
<body>
<h1>Best of Show - Most Shrinkable</h1>

<p>Don Yang<br>
<a href="&#x6d;&#x61;&#105;&#108;&#116;&#111;&#58;&#111;&#109;&#111;&#x69;&#107;&#97;&#110;&#x65;&#64;&#x75;&#103;&#117;&#117;&#46;&#111;&#x72;&#103;">&#111;&#109;&#111;&#105;&#x6b;&#97;&#110;&#101;&#x40;&#117;&#103;&#x75;&#117;&#x2e;&#x6f;&#x72;&#x67;</a><br>
<a href="http://uguu.org/">http://uguu.org/</a></p>

<h2>Judges' comments:</h2>

<h3>To build:</h3>

<pre><code>make akari
</code></pre>

<h3>To run:</h3>

<pre><code>./akari [input_file_or_- [output_file_or_- [even]]]
</code></pre>

<h3>Try:</h3>

<pre><code>./akari &lt; example.ppm &gt; odd_output.ppm
./akari - - even &lt; example.ppm &gt; even_output.ppm
./akari example.ppm odd_output.ppm

make akari2.c
cat akari2.c

make akari2

./akari2 &lt; akari2.c
./akari2 rot13 &lt; akari2.c

make akari3.c
cat akari3.c

make akari3

./akari3

make akari4.c
cat akari4.c

./akari4
</code></pre>

<h3>Selected Judges Remarks:</h3>

<p>Akari is an image downsampling utility that accepts 3 inout formats:</p>

<pre><code>* PGM (netpbm grayscale image).  Akari only accept PGM files with this
  header: P5 &lt;width&gt; &lt;height&gt; 255.  Images with extra comments such as
  the ones produced by GIMP will not be parsed properly.

* PPM (netpbm RGB image).  Only PPM files with this header are
  accepted: P6 &lt;width&gt; &lt;height&gt; 255.

* ASCII art (with end of lines in LF bytes only, not CR-LF)
</code></pre>

<p>Anything that is not parseable as PGM or PPM will be downsampled as ASCII art.</p>

<h2>Author&rsquo;s comments:</h2>

<p>Akari is an image downsampling utility.  She accepts up to 3 arguments:</p>

<p>First argument is the input image.  If it&rsquo;s &ldquo;-&rdquo; or unspecified, Akari
will read from stdin.</p>

<p>Second argument is the output image.  If it&rsquo;s &ldquo;-&rdquo; or unspecified,
Akari will write to stdout.</p>

<p>Third argument, if specified, causes Akari to keep even pixels on even
scanlines.  By default Akari will keep odd pixels on odd scanlines.</p>

<p>Examples:</p>

<pre><code>gcc akari.c -o akari
./akari &lt; example.ppm &gt; odd_output.ppm
./akari - - even &lt; example.ppm &gt; even_output.ppm
./akari example.ppm odd_output.ppm
</code></pre>

<p>Akari accepts 3 input formats:
* PGM (netpbm grayscale image).  Akari only accept PGM files with this
  header: P5 <width> <height> 255.  Images with extra comments such as
  the ones produced by GIMP will not be parsed properly.
* PPM (netpbm RGB image).  Only PPM files with this header are
  accepted: P6 <width> <height> 255.
* ASCII art (with end of lines in LF bytes only, not CR-LF)</p>

<p>This is useful for decoding some curiously interlaced images, such as
the included example.ppm</p>

<p>Anything that is not parseable as PGM or PPM will be downsampled as
ASCII art.  Since the source code is formatted as ASCII art, it&rsquo;s only
natural to try:</p>

<pre><code>./akari akari.c akari2.c
</code></pre>

<p>akari2.c is also a valid C program, and accepts up to 1 argument.
By default, this second program reads text from stdin and writes
expanded output to stdout.  If the extra argument is specified, the
output text will also pass through a rot13 filter.</p>

<pre><code>gcc akari2.c -o akari2
./akari2 &lt; input.txt &gt; expanded_output.txt
./akari2 rot13 &lt; input.txt &gt; expanded_and_rot13_output.txt
</code></pre>

<p>You can combine the two programs together to have just a regular rot13
filter:</p>

<pre><code>./akari2 rot13 &lt; input.txt | ./akari &gt; rot13.txt
</code></pre>

<p>Of course, we wouldn&rsquo;t stop with just 2 programs, you can downsample
the source <em>again</em> and get yet another C program:</p>

<pre><code>./akari &lt; akari.c | ./akari &gt; akari3.c
</code></pre>

<p>We must go deeper:</p>

<pre><code>./akari &lt; akari.c | ./akari | ./akari &gt; akari4.c
</code></pre>

<p>akari3.c and akari4.c are still (mostly valid) C programs.
&ldquo;gcc -Wall&rdquo; will output a few warnings, but still produce output
executables.  The output executables each print a message to stdout.</p>

<p>It takes quite a bit of skill and obfuscation to interleave a
C program 4 levels deep, it&rsquo;s much easier to interleave something like
a brainf#$% program in a C program, for example.  For comparison, a
brainf#$% program is embedded inside akari.c</p>

<hr />

<!--
(c) Copyright 1984-2012, [Leo Broukhis, Simon Cooper, Landon Curt Noll][judges] - All rights reserved
This work is licensed under a [Creative Commons Attribution-ShareAlike 3.0 Unported License][cc].

[judges]: http://www.ioccc.org/judges.html
[cc]: http://creativecommons.org/licenses/by-sa/3.0/
-->

<TABLE><TR>
<TD><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a></TD>
<TD><P>&copy; Copyright 1984-2012, 
<A HREF="/judges.html">Leo Broukhis, Simon Cooper, Landon Curt Noll</A>
- All rights reserved<BR>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</P></TD>
<TD>&nbsp;<!--<a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-html401" alt="Valid HTML 4.01 Transitional" height="31" width="88"></a>--></TD>
</TR></TABLE>
</body>
</html>
